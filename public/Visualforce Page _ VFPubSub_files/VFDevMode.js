/*
 * This code is for Internal Salesforce use only, and subject to change without notice.
 * Customers shouldn't reference this file in any web pages.
 */
Sfdc.provide("SfdcApp.Visualforce.devmode.Editors",{Page:{TAB_ID:"thePage:theForm:pageTab",EDITOR_ID:"pageEditor",INIT_FX:"initPageEditor"},Controller:{TAB_ID:"thePage:theForm:controllerTab",EDITOR_ID:"controllerEditor",INIT_FX:"initControllerEditor"},getEditor:function(a){var b=this.Page,c=document.getElementById(a);Sfdc.isDefAndNotNull(c)&&(a===this.Controller.TAB_ID?b=this.Controller:this.Viewstate&&a===this.Viewstate.TAB_ID?b=this.Viewstate:/extensionTab$/.test(a)&&(b={TAB_ID:a,EDITOR_ID:c.innerHTML+
"Editor",INIT_FX:"init"+c.innerHTML+"Editor"}));return b}});function isDevModeContent(a,b){if(!b||b.match(/^\s*javascript:/i)||b.match(/core\.apexpages\.devmode\.url\=1/i))return!0;var c=b.indexOf("?");0<c&&b.substring(0,c);return-1!=b.indexOf(a)}function disableButtons(a){if(a=document.getElementById(a)){a=a.elements;for(var b=0,c=a.length;b<c;++b){var d=a[b];if(d&&("button"==d.type||"submit"==d.type))if(!d.id||!d.id.match("cancel"))d.disabled=!0,d.className="btnDisabled"}}}
function enableButtons(a){if(a=document.getElementById(a)){a=a.elements;for(var b=0,c=a.length;b<c;++b){var d=a[b];if(d&&("button"==d.type||"submit"==d.type))d.disabled=!1,d.className="btn"}}}function syncToSource(a){for(var b=0,c=editorIds.length;b<c;b++){var d=document.getElementById(editorIds[b]);if(null===d)editorIds.slice(b,1);else try{d.syncToSource()}catch(e){}}disableButtons(a)}
function syncFromSource(a){n=0;for(len=editorIds.length;n<len;n++){var b=document.getElementById(editorIds[n]);if(null===b)editorIds.slice(n,1);else if(b.syncFromSource)try{b.syncFromSource()}catch(c){}}enableButtons(a)}
function setCookie(a,b,c,d,e,f){"thePage:theForm:viewstateInspectorTab"==b&&(b="thePage:theForm:pageTab");var g=new Date;g.setTime(g.getTime());c&&(c*=864E5);g=new Date(g.getTime()+c);document.cookie=a+"\x3d"+escape(b)+(c?";expires\x3d"+g.toGMTString():"")+(d?";path\x3d"+d:"")+(e?";domain\x3d"+e:"")+(f?";secure":"")}
function getCookie(a){var b=document.cookie.indexOf(a+"\x3d"),c=b+a.length+1;if(!b&&a!=document.cookie.substring(0,a.length)||-1==b)return null;a=document.cookie.indexOf(";",c);-1==a&&(a=document.cookie.length);return unescape(document.cookie.substring(c,a))}function deleteCookie(a,b,c){getCookie(a)&&(document.cookie=a+"\x3d"+(b?";path\x3d"+b:"")+(c?";domain\x3d"+c:"")+";expires\x3dThu, 01-Jan-1970 00:00:01 GMT")}
function getBottomPanelHeight(){var a=getCookie("dmLastSize");return a?parseInt(a,10):28}function getViewstatePanelHeight(){var a=bottomPanel.getInnerHeight(),b=document.getElementById("notTheEditors").offsetHeight;return Math.max(a-b,0)}function setDefaultBottomPanelHeight(){28>=getBottomPanelHeight()&&(bottomPanel.setHeight(bottomPanel.restoreHeight?bottomPanel.restoreHeight:300),viewport.doLayout())}
function showTab(a){var b=document.getElementById(a);b&&(b.className="dmTabOn",b.onmouseout=function(){this.className="dmTabOn"},setCookie("dmTab",a,0))}function showCloseButton(a,b){document.getElementById(a).className=b?"collapse_icon":"expand_icon"}
document.getElementsByClassName=function(a){for(var b=[],c=document.getElementsByTagName("*"),d=0;d<c.length;d++)if(0<=c[d].className.indexOf(" "))for(var e=c[d].className.split(" "),f=0;f<e.length;f++)e[f]==a&&b.push(c[d]);else c[d].className==a&&b.push(c[d]);return b};
function resizeIFrames(){var a=bottomPanel.getInnerHeight();setCookie("dmLastSize",a);for(var b=document.getElementById("notTheEditors").offsetHeight,a=Math.max(a-b,0),b=0,c=editorIds.length;b<c;b++){var d=document.getElementById(editorIds[b]);if(null===d)editorIds.pop();else if(d=document.getElementById(d.iframeId))d.style.height=a+"px"}SfdcApp.Visualforce.devmode.Editors.Viewstate&&(SfdcApp.Visualforce.viewstate&&Sfdc.isDefAndNotNull(SfdcApp.Visualforce.viewstate.ViewInstance))&&SfdcApp.Visualforce.viewstate.ViewInstance.resize(SfdcApp.Visualforce.devmode.Editors.Viewstate.EDITOR_ID,
getViewstatePanelHeight(),window.innerWidth)}function getTab(){var a=getCookie("dmTab");a||(a=document.getElementsByClassName("dmTabOff")[0].id);return a.substr(a.lastIndexOf(":")+1)}function resetTabs(){for(var a=document.getElementsByClassName("dmTabOn"),b=0,c=a.length;b<c;b++)a[b].className="dmTabOff",a[b].onmouseout=function(){return function(){this.className="dmTabOff"}}()}
function hideEditors(){var a=document.getElementById("thePage:theForm:editors");if(Sfdc.isDefAndNotNull(a)&&a.hasChildNodes()&&(a=a.getElementsByTagName("div")))for(var b=a.length?a.length:0,c=0;c<b;c++)if(Sfdc.isDefAndNotNull(a[c].id)&&(/Editor$/.test(a[c].id)||/viewstateInspector/.test(a[c].id)))a[c].style.display="none"}
function toggleEditors(a){resetTabs();if(!(28>=getBottomPanelHeight())){hideEditors();var b=document.getElementById(a.EDITOR_ID);null!==b.style&&(b.style.display="block");var c=b.initialized;if("undefined"===typeof c||!1===c)if(b.initialized=!0,SfdcApp.Visualforce.devmode.Editors.Viewstate&&a===SfdcApp.Visualforce.devmode.Editors.Viewstate)b=window[a.INIT_FX],b(),Ext.fly("thePage:theForm:msg").dom.style.display="none";else{b=window[a.INIT_FX];if(null===b||"function"!==typeof b)b=window[SfdcApp.Visualforce.devmode.Editors.Page.INIT_FX];
b(resizeIFrames);Ext.fly("thePage:theForm:msg").dom.style.display="inline"}showTab(a.TAB_ID)}}function togglePane(a,b){a?(bottomPanel.restoreHeight=bottomPanel.getInnerHeight(),bottomPanel.setHeight(28),resetTabs(),viewport.doLayout()):(document.getElementById(b),setDefaultBottomPanelHeight(),toggleEditors(SfdcApp.Visualforce.devmode.Editors.Page))}function onClickTab(a,b){setDefaultBottomPanelHeight();var c=SfdcApp.Visualforce.devmode.Editors.getEditor(a);toggleEditors(c);showCloseButton(b,!0)}
function setTab(){if(document.getElementById("dmPane")){var a=getCookie("dmTab");a||(a=document.getElementsByClassName("dmTabOff")[0].id);a=SfdcApp.Visualforce.devmode.Editors.getEditor(a);toggleEditors(a);resizeIFrames()}}function isViewstateTabEnabled(){return"viewstateInspectorTab"==getTab()}function hideViewstateInspectorTab(){Ext.fly(viewstateInspectorTab).style.display="none"}
function showViewstate(a){openPopupFocusEscapePounds("/apexpages/viewstateinfo.apexp?page\x3d"+a,"Help",700,600,"width\x3d700,height\x3d600,resizable\x3dyes,toolbar\x3dyes,status\x3dno,scrollbars\x3dyes,menubar\x3dyes,directories\x3dno,location\x3dno,dependant\x3dno",!1,!1)}function shift(a,b){a.style.backgroundPosition="top "+b}function showQuickfixDialog(){Ext.MessageBox.show({msg:"Performing Quick Fix please wait...",progressText:"Updating...",width:300,wait:!0,waitConfig:{interval:150}})}
function initContentPane(a){var b=document.getElementById("contentPane").contentWindow,c=b.document;a=a.substring(0,a.indexOf("?"));var d=c.getElementsByTagName("form");for(n=0;n!=d.length;n++){var e=d[n];!e.target&&!isDevModeContent(a,e.action)&&(e.target="_top")}c=c.getElementsByTagName("a");for(n=0;n!=c.length;n++)d=c[n],!d.target&&!isDevModeContent(a,d.href)&&(d.target="_top");b.navigateToUrl&&(b.navigateToUrl=function(a){navigateToUrl(a)})}
function initContentFrame(a,b,c,d){"/blank.html"!=document.location.pathname&&(initContentPane(a),"function"===typeof initViewstateTab&&initViewstateTab(b,c))}function initDeveloperMode(a,b){if(!b){var c=document.getElementById("contentPane").contentWindow;c.location.pathname!=a&&setTimeout(function(){c.location=a},0)}setTab()};

//# sourceMappingURL=/javascript/1474366430000/sfdc/source/VFDevMode.js.map
